(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{BQHi:function(r,o,i){"use strict";i.r(o),i.d(o,"LoginStaffPageModule",function(){return p});var t=i("ofXK"),e=i("3Pt+"),n=i("TEn/"),s=i("tyNb"),l=i("mrSG"),a=i("fXoL"),u=i("lGQG");function b(r,o){1&r&&(a.Ob(0,"span",10),a.kc(1," Email is required. "),a.Nb())}function c(r,o){1&r&&(a.Ob(0,"span",10),a.kc(1," Please provide valid email id. "),a.Nb())}function d(r,o){1&r&&(a.Ob(0,"span",10),a.kc(1," Password is required. "),a.Nb())}const f=[{path:"",component:(()=>{class r{constructor(r,o,i){this.authSvc=r,this.router=o,this.formBuilder=i,this.isSubmitted=!1}ngOnInit(){this.loginStaffForm=this.formBuilder.group({email:["",[e.l.required,e.l.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")]],password:["",e.l.required]})}get errorControl(){return this.loginStaffForm.controls}redirectUser(){this.subscription=this.authSvc.user$.subscribe(r=>{var o,i,t;this.userInfo=r,"admin"===(null===(o=this.userInfo)||void 0===o?void 0:o.role)?this.router.navigate(["admin"]):"kitchen"===(null===(i=this.userInfo)||void 0===i?void 0:i.role)?this.router.navigate(["kitchen"]):"user"===(null===(t=this.userInfo)||void 0===t?void 0:t.role)&&this.authSvc.logout()})}submitForm(){return Object(l.a)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,!this.loginStaffForm.valid)return console.log("Please provide all the required values!"),!1;try{yield this.authSvc.loginEmployee(this.loginStaffForm.get("email").value,this.loginStaffForm.get("password").value),this.redirectUser()}catch(r){console.log("Error->",r)}})}ngOnDestroy(){this.loginStaffForm.reset(),null!=this.subscription&&this.subscription.unsubscribe()}}return r.\u0275fac=function(o){return new(o||r)(a.Lb(u.a),a.Lb(s.g),a.Lb(e.a))},r.\u0275cmp=a.Fb({type:r,selectors:[["app-login-staff"]],decls:28,vars:4,consts:[["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","floating"],["color","danger"],["formControlName","email","type","email","required",""],["class","error ion-padding",4,"ngIf"],["formControlName","password","type","password","required",""],["color","primary","type","submit","expand","block"],[1,"ion-text-end"],["routerLink","/forgot-password"],[1,"error","ion-padding"]],template:function(r,o){1&r&&(a.Ob(0,"ion-header"),a.Ob(1,"ion-toolbar"),a.Ob(2,"ion-title"),a.kc(3,"Login employee"),a.Nb(),a.Nb(),a.Nb(),a.Ob(4,"ion-content"),a.Ob(5,"form",0),a.Wb("ngSubmit",function(){return o.submitForm()}),a.Ob(6,"ion-item",1),a.Ob(7,"ion-label",2),a.kc(8,"E-Mail "),a.Ob(9,"ion-text",3),a.kc(10,"*"),a.Nb(),a.Nb(),a.Mb(11,"ion-input",4),a.Nb(),a.jc(12,b,2,0,"span",5),a.jc(13,c,2,0,"span",5),a.Ob(14,"ion-item"),a.Ob(15,"ion-label",2),a.kc(16,"Password "),a.Ob(17,"ion-text",3),a.kc(18,"*"),a.Nb(),a.Nb(),a.Mb(19,"ion-input",6),a.Nb(),a.jc(20,d,2,0,"span",5),a.Ob(21,"ion-button",7),a.kc(22," Login "),a.Nb(),a.Ob(23,"ion-row"),a.Ob(24,"ion-col"),a.Ob(25,"p",8),a.Ob(26,"a",9),a.kc(27,"Forgot password?"),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Nb()),2&r&&(a.Bb(5),a.dc("formGroup",o.loginStaffForm),a.Bb(7),a.dc("ngIf",o.isSubmitted&&(null==o.errorControl.email.errors?null:o.errorControl.email.errors.required)),a.Bb(1),a.dc("ngIf",o.isSubmitted&&(null==o.errorControl.email.errors?null:o.errorControl.email.errors.pattern)),a.Bb(7),a.dc("ngIf",o.isSubmitted&&(null==o.errorControl.password.errors?null:o.errorControl.password.errors.required)))},directives:[n.e,n.o,n.n,n.d,e.m,e.h,e.c,n.g,n.h,n.m,n.f,n.t,e.g,e.b,e.k,t.i,n.b,n.j,n.c,s.i,n.r],styles:[".error[_ngcontent-%COMP%]{font-size:small;color:red}"]}),r})()}];let m=(()=>{class r{}return r.\u0275mod=a.Jb({type:r}),r.\u0275inj=a.Ib({factory:function(o){return new(o||r)},imports:[[s.j.forChild(f)],s.j]}),r})(),p=(()=>{class r{}return r.\u0275mod=a.Jb({type:r}),r.\u0275inj=a.Ib({factory:function(o){return new(o||r)},imports:[[t.c,e.j,e.d,n.p,m]]}),r})()}}]);