(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"4E6l":function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterStaffPageModule",function(){return g});var o=n("ofXK"),i=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),b=n("mrSG"),s=n("fXoL"),a=n("lGQG"),l=n("I/3d");function u(e,t){if(1&e){const e=s.Pb();s.Ob(0,"div"),s.Ob(1,"form"),s.Ob(2,"ion-item",1),s.Ob(3,"ion-label",2),s.kc(4,"E-Mail "),s.Ob(5,"ion-text",3),s.kc(6,"*"),s.Nb(),s.Nb(),s.Mb(7,"ion-input",4,5),s.Nb(),s.Ob(9,"ion-item",1),s.Ob(10,"ion-label",2),s.kc(11,"Password "),s.Ob(12,"ion-text",3),s.kc(13,"*"),s.Nb(),s.Nb(),s.Mb(14,"ion-input",6,7),s.Nb(),s.Ob(16,"ion-item",1),s.Ob(17,"ion-label"),s.kc(18,"Role"),s.Nb(),s.Ob(19,"ion-select",8),s.Wb("ionChange",function(t){return s.gc(e),s.Yb().onChange(t)}),s.Ob(20,"ion-select-option",9),s.kc(21,"Kitchen"),s.Nb(),s.Ob(22,"ion-select-option",10),s.kc(23,"Admin"),s.Nb(),s.Nb(),s.Nb(),s.Ob(24,"ion-button",11),s.Wb("click",function(){s.gc(e);const t=s.fc(8),n=s.fc(15);return s.Yb().onRegister(t,n)}),s.kc(25," Register "),s.Nb(),s.Nb(),s.Ob(26,"ion-button",12),s.Wb("click",function(){return s.gc(e),s.Yb().authSvc.logout()}),s.kc(27,"Logout"),s.Nb(),s.Nb()}}function d(e,t){1&e&&(s.Ob(0,"div"),s.Ob(1,"ion-row"),s.Ob(2,"ion-col",13),s.Ob(3,"p"),s.kc(4,"The user has been created successfully!"),s.Nb(),s.Nb(),s.Nb(),s.Ob(5,"ion-row"),s.Ob(6,"ion-col"),s.Ob(7,"p",14),s.Ob(8,"a",15),s.kc(9,"Login employee"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb())}const p=[{path:"",component:(()=>{class e{constructor(e,t){this.authSvc=e,this.afs=t,this.created=!1}onRegister(e,t){return Object(b.a)(this,void 0,void 0,function*(){try{const n=yield this.authSvc.registerEmployee(e.value,t.value);n&&(this.created=!this.created,this.updateUserData(n),console.log(n,"user de onReg"))}catch(n){console.log("Error",n)}})}onChange(e){console.log(e.target.value),this.role=e.target.value}updateUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,emailVerified:!0,displayName:e.displayName,role:this.role},{merge:!0})}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(a.a),s.Lb(l.a))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-register-staff"]],decls:7,vars:2,consts:[[4,"ngIf"],["lines","full"],["position","floating"],["color","danger"],["required","","type","text"],["email",""],["required","","type","password"],["password",""],["name","roles",3,"ionChange"],["value","kitchen"],["value","admin"],["color","primary","type","submit","expand","block",3,"click"],["type","submit","expand","block",3,"click"],["size","12"],[1,"ion-text-end"],["routerLink","/login-staff"]],template:function(e,t){1&e&&(s.Ob(0,"ion-header"),s.Ob(1,"ion-toolbar"),s.Ob(2,"ion-title"),s.kc(3,"Register employee"),s.Nb(),s.Nb(),s.Nb(),s.Ob(4,"ion-content"),s.jc(5,u,28,0,"div",0),s.jc(6,d,10,0,"div",0),s.Nb()),2&e&&(s.Bb(5),s.dc("ngIf",!t.created),s.Bb(1),s.dc("ngIf",t.created))},directives:[c.e,c.o,c.n,c.d,o.i,i.g,i.d,i.e,c.g,c.h,c.m,c.f,c.t,c.k,c.s,c.l,c.b,c.j,c.c,r.i,c.r],styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},imports:[[r.j.forChild(p)],r.j]}),e})(),g=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},imports:[[o.c,i.a,c.p,f]]}),e})()}}]);