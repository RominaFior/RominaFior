(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"4E6l":function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterStaffPageModule",function(){return h});var i=n("ofXK"),o=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),s=n("mrSG"),b=n("fXoL"),a=n("lGQG"),l=n("I/3d");function u(e,t){if(1&e){const e=b.Pb();b.Ob(0,"div"),b.Ob(1,"form"),b.Ob(2,"ion-item",2),b.Ob(3,"ion-label",3),b.kc(4,"E-Mail "),b.Ob(5,"ion-text",4),b.kc(6,"*"),b.Nb(),b.Nb(),b.Mb(7,"ion-input",5,6),b.Nb(),b.Ob(9,"ion-item",2),b.Ob(10,"ion-label",3),b.kc(11,"Password "),b.Ob(12,"ion-text",4),b.kc(13,"*"),b.Nb(),b.Nb(),b.Mb(14,"ion-input",7,8),b.Nb(),b.Ob(16,"ion-item",2),b.Ob(17,"ion-label"),b.kc(18,"Role"),b.Nb(),b.Ob(19,"ion-select",9),b.Wb("ionChange",function(t){return b.gc(e),b.Yb().onChange(t)}),b.Ob(20,"ion-select-option",10),b.kc(21,"Kitchen"),b.Nb(),b.Ob(22,"ion-select-option",11),b.kc(23,"Admin"),b.Nb(),b.Nb(),b.Nb(),b.Ob(24,"ion-button",12),b.Wb("click",function(){b.gc(e);const t=b.fc(8),n=b.fc(15);return b.Yb().onRegister(t,n)}),b.kc(25," Register "),b.Nb(),b.Nb(),b.Nb()}}function d(e,t){1&e&&(b.Ob(0,"div"),b.Ob(1,"ion-row"),b.Ob(2,"ion-col",13),b.Ob(3,"p"),b.kc(4,"The user has been created successfully!"),b.Nb(),b.Nb(),b.Nb(),b.Nb())}const p=[{path:"",component:(()=>{class e{constructor(e,t){this.authSvc=e,this.afs=t,this.created=!1}onRegister(e,t){return Object(s.a)(this,void 0,void 0,function*(){try{const n=yield this.authSvc.registerEmployee(e.value,t.value);n&&(this.created=!this.created,this.updateUserData(n),console.log(n,"user de onReg"))}catch(n){console.log("Error",n)}})}onChange(e){console.log(e.target.value),this.role=e.target.value}updateUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,emailVerified:!0,displayName:e.displayName,role:this.role},{merge:!0})}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(b.Lb(a.a),b.Lb(l.a))},e.\u0275cmp=b.Fb({type:e,selectors:[["app-register-staff"]],decls:9,vars:2,consts:[[4,"ngIf"],["type","submit","expand","block",3,"click"],["lines","full"],["position","floating"],["color","danger"],["required","","type","text"],["email",""],["required","","type","password"],["password",""],["name","roles",3,"ionChange"],["value","kitchen"],["value","admin"],["color","primary","type","submit","expand","block",3,"click"],["size","12"]],template:function(e,t){1&e&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-title"),b.kc(3,"Register employee"),b.Nb(),b.Nb(),b.Nb(),b.Ob(4,"ion-content"),b.jc(5,u,26,0,"div",0),b.jc(6,d,5,0,"div",0),b.Ob(7,"ion-button",1),b.Wb("click",function(){return t.authSvc.logout()}),b.kc(8,"Logout"),b.Nb(),b.Nb()),2&e&&(b.Bb(5),b.dc("ngIf",!t.created),b.Bb(1),b.dc("ngIf",t.created))},directives:[c.e,c.o,c.n,c.d,i.i,c.b,o.m,o.h,o.i,c.g,c.h,c.m,c.f,c.t,c.k,c.s,c.l,c.j,c.c],styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(t){return new(t||e)},imports:[[r.j.forChild(p)],r.j]}),e})(),h=(()=>{class e{}return e.\u0275mod=b.Jb({type:e}),e.\u0275inj=b.Ib({factory:function(t){return new(t||e)},imports:[[i.c,o.d,c.p,f]]}),e})()}}]);